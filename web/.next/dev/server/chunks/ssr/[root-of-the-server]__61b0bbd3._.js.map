{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///D:/Maono_App/web/lib/firebase.ts"],"sourcesContent":["import { getApp, getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\r\n};\r\n\r\nconst app = getApps().length > 0 ? getApp() : initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nexport { app, auth, db };\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,MAAM,MAAM,IAAA,kLAAO,IAAG,MAAM,GAAG,IAAI,IAAA,iLAAM,MAAK,IAAA,wLAAa,EAAC;AAC5D,MAAM,OAAO,IAAA,gNAAO,EAAC;AACrB,MAAM,KAAK,IAAA,wLAAY,EAAC"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///D:/Maono_App/web/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { onAuthStateChanged, User } from \"firebase/auth\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { auth, db } from \"../lib/firebase\";\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    role: string | null;\r\n    loading: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({\r\n    user: null,\r\n    role: null,\r\n    loading: true,\r\n});\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [role, setRole] = useState<string | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n            if (currentUser) {\r\n                setLoading(true); // Ensure loading is true while we fetch the role\r\n                setUser(currentUser);\r\n                try {\r\n                    const userDoc = await getDoc(doc(db, \"users\", currentUser.uid));\r\n                    if (userDoc.exists()) {\r\n                        setRole(userDoc.data().role || \"Member\");\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Error fetching user role:\", error);\r\n                }\r\n                setLoading(false);\r\n            } else {\r\n                setUser(null);\r\n                setRole(null);\r\n                setLoading(false);\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, role, loading }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAaA,MAAM,4BAAc,IAAA,6NAAa,EAAkB;IAC/C,MAAM;IACN,MAAM;IACN,SAAS;AACb;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wNAAQ,EAAc;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wNAAQ,EAAgB;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IAEvC,IAAA,yNAAS,EAAC;QACN,MAAM,cAAc,IAAA,2NAAkB,EAAC,8HAAI,EAAE,OAAO;YAChD,IAAI,aAAa;gBACb,WAAW,OAAO,iDAAiD;gBACnE,QAAQ;gBACR,IAAI;oBACA,MAAM,UAAU,MAAM,IAAA,kLAAM,EAAC,IAAA,+KAAG,EAAC,4HAAE,EAAE,SAAS,YAAY,GAAG;oBAC7D,IAAI,QAAQ,MAAM,IAAI;wBAClB,QAAQ,QAAQ,IAAI,GAAG,IAAI,IAAI;oBACnC;gBACJ,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,6BAA6B;gBAC/C;gBACA,WAAW;YACf,OAAO;gBACH,QAAQ;gBACR,QAAQ;gBACR,WAAW;YACf;QACJ;QAEA,OAAO,IAAM;IACjB,GAAG,EAAE;IAEL,qBACI,qPAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAM;QAAQ;kBAC9C;;;;;;AAGb;AAEO,MAAM,UAAU,IAAM,IAAA,0NAAU,EAAC"}}]
}