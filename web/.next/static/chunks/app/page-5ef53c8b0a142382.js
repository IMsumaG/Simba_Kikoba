(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5230:(e,t,r)=>{Promise.resolve().then(r.bind(r,5555))},5555:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),i=r(12),n=r(7058),s=r(6878),l=r(7401);let o=(0,l.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=(0,l.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var c=r(6046),u=r(2115),p=r(9584),m=r(9664);function h(){let{user:e,role:t,loading:r}=(0,p.A)(),l=(0,c.useRouter)(),[h,x]=(0,u.useState)(""),[y,g]=(0,u.useState)(""),[f,b]=(0,u.useState)(!1),[v,k]=(0,u.useState)(""),[j,A]=(0,u.useState)(!1);(0,u.useEffect)(()=>{!r&&e&&("Admin"===t?l.replace("/dashboard"):k("Access denied. Only admins can access the web portal."))},[e,t,r,l]);let w=async e=>{e.preventDefault(),k(""),A(!0);try{let e=await (0,i.x9)(m.j,h,y),t=await (0,n.x7)((0,n.H9)(m.db,"users",e.user.uid));t.exists()&&"Admin"===t.data().role?l.push("/dashboard"):(await m.j.signOut(),k("Access denied. Admin role required."))}catch(e){k(e.message||"Failed to login")}finally{A(!1)}};return r?null:(0,a.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:(0,a.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[(0,a.jsxs)("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[(0,a.jsx)("div",{style:{backgroundColor:"var(--primary)",width:"64px",height:"64px",borderRadius:"1.25rem",display:"inline-flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem",boxShadow:"0 10px 15px -3px rgba(245, 124, 0, 0.3)"},children:(0,a.jsx)(s.A,{size:36,color:"white"})}),(0,a.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"900",color:"var(--text-primary)"},children:"KIKOBA Insights"}),(0,a.jsx)("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Admin Portal"})]}),(0,a.jsxs)("form",{onSubmit:w,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,a.jsx)("label",{style:{fontSize:"0.875rem",fontWeight:"700",color:"var(--text-secondary)"},children:"EMAIL ADDRESS"}),(0,a.jsx)("input",{type:"email",required:!0,value:h,onChange:e=>x(e.target.value),placeholder:"admin@kikoba.com",style:{padding:"0.875rem 1rem",borderRadius:"0.75rem",border:"1px solid var(--border)",backgroundColor:"var(--background-muted)",outline:"none"}})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,a.jsx)("label",{style:{fontSize:"0.875rem",fontWeight:"700",color:"var(--text-secondary)"},children:"PASSWORD"}),(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("input",{type:f?"text":"password",required:!0,value:y,onChange:e=>g(e.target.value),placeholder:"••••••••",style:{width:"100%",padding:"0.875rem 1rem",paddingRight:"3rem",borderRadius:"0.75rem",border:"1px solid var(--border)",backgroundColor:"var(--background-muted)",outline:"none"}}),(0,a.jsx)("button",{type:"button",onClick:()=>b(!f),style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",display:"flex",alignItems:"center",cursor:"pointer"},children:f?(0,a.jsx)(o,{size:20}):(0,a.jsx)(d,{size:20})})]})]}),v&&(0,a.jsx)("div",{style:{color:"#F43F5E",fontSize:"0.875rem",textAlign:"center"},children:v}),(0,a.jsx)("button",{type:"submit",disabled:j,className:"btn-primary",style:{marginTop:"0.5rem"},children:j?"Logging in...":"Login to Portal"})]})]})})}},9584:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>d});var a=r(5155),i=r(12),n=r(7058),s=r(2115),l=r(9664);let o=(0,s.createContext)({user:null,role:null,loading:!0});function d(e){let{children:t}=e,[r,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,i.hg)(l.j,async e=>{if(e){m(!0),d(e);try{let t=await (0,n.x7)((0,n.H9)(l.db,"users",e.uid));t.exists()&&u(t.data().role||"Member")}catch(e){console.error("Error fetching user role:",e)}m(!1)}else d(null),u(null),m(!1)});return()=>e()},[]),(0,a.jsx)(o.Provider,{value:{user:r,role:c,loading:p},children:t})}let c=()=>(0,s.useContext)(o)},9664:(e,t,r)=>{"use strict";r.d(t,{db:()=>o,j:()=>l});var a=r(9904),i=r(12),n=r(7058);let s=(0,a.Dk)().length>0?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBWBs-DPjFFpVjm_Kcna5PE5Jf_L7DofH8",authDomain:"kikoba-app-28064.firebaseapp.com",projectId:"kikoba-app-28064",storageBucket:"kikoba-app-28064.firebasestorage.app",messagingSenderId:"496818688394",appId:"1:496818688394:web:61b33f4aede1cf3a9cb873"}),l=(0,i.xI)(s),o=(0,n.aU)(s)},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),s=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:c="",children:u,iconNode:p,...m}=e;return(0,a.createElement)("svg",{ref:t,...d,width:i,height:i,stroke:r,strokeWidth:s?24*Number(n)/Number(i):n,className:l("lucide",c),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...p.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...d}=r;return(0,a.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(i(s(e))),"lucide-".concat(e),o),...d})});return r.displayName=s(e),r}},6878:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[135,497,963,441,517,358],()=>t(5230)),_N_E=e.O()}]);